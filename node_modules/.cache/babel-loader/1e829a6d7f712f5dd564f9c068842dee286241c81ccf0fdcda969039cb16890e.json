{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\\\u6821\\u62DB\\u6D4B\\u8BD5demo\\\\src\\\\GroupFilter\\\\index.js\",\n  _s = $RefreshSig$();\n/* 使用 React + Ant Design 实现一个组合筛选的组件\r\n 点击新增筛选条件可以增加一个筛选项，点击右侧删除按钮支持删掉该筛选项\r\n GROUP_FILTER_DATA: 左侧下拉框的值\r\n OPERATION_LIST: 中间下拉框的值\r\n 如果中间下拉框的值为等于，则右侧是一个输入框，如果中间下拉框的值为属于，则右侧是一个下拉框，下拉框数据是左侧选择的变量的belongList的值\r\n 组件默认展示形式，见组件默认值.png\r\n 组件示例图，见组件示例图.png\r\n 组件数据图，见组件数据图.png\r\n*/\n\nimport { Select, Input } from 'antd';\nimport { GROUP_FILTER_DATA, OPERATION_LIST } from '../data';\nimport { useState } from 'react';\nimport { Button } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GroupFilter = (initialData = []) => {\n  _s();\n  const [dataSource, setDataSource] = useState(initialData);\n  const dataItemRender = (item, index) => {\n    var _GROUP_FILTER_DATA$fi;\n    const findItemBelongList = (_GROUP_FILTER_DATA$fi = GROUP_FILTER_DATA.find(dataItem => dataItem.value === item.field)) === null || _GROUP_FILTER_DATA$fi === void 0 ? void 0 : _GROUP_FILTER_DATA$fi.belongList;\n    console.log(GROUP_FILTER_DATA.find(dataItem => dataItem.value === item.field), 'GROUP_FILTER_DATA.find(item => item.value === item.field)');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 10,\n        marginBottom: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        options: GROUP_FILTER_DATA,\n        style: {\n          width: 200\n        },\n        value: item.field,\n        onChange: value => {\n          setDataSource(prev => [...prev.slice(0, index), {\n            ...item,\n            field: value\n          }, ...prev.slice(index + 1)]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        options: OPERATION_LIST,\n        style: {\n          width: 200\n        },\n        value: item.operation,\n        onChange: value => {\n          setDataSource(prev => [...prev.slice(0, index), {\n            ...item,\n            operation: value,\n            value: undefined\n          }, ...prev.slice(index + 1)]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), item.operation === 'equal' ? /*#__PURE__*/_jsxDEV(Input, {\n        style: {\n          width: 200\n        },\n        value: item.value,\n        onChange: e => {\n          setDataSource(prev => [...prev.slice(0, index), {\n            ...item,\n            value: e.target.value\n          }, ...prev.slice(index + 1)]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Select, {\n        options: findItemBelongList,\n        style: {\n          width: 200\n        },\n        value: item.value,\n        onChange: value => {\n          setDataSource(prev => [...prev.slice(0, index), {\n            ...item,\n            value\n          }, ...prev.slice(index + 1)]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        style: {\n          marginLeft: 10\n        },\n        onClick: () => setDataSource(prev => [...prev.slice(0, index), ...prev.slice(index + 1)]),\n        children: \"\\u5220\\u9664\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, this);\n  };\n  console.log(dataSource);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [dataSource === null || dataSource === void 0 ? void 0 : dataSource.map((item, index) => dataItemRender(item, index)), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: () => setDataSource(prev => [...prev, {\n        field: undefined,\n        operation: undefined,\n        value: undefined\n      }]),\n      children: \"\\u65B0\\u589E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n};\n_s(GroupFilter, \"S/MHcrQmozEM+xdixPVxi3VWrGM=\");\n_c = GroupFilter;\nexport default GroupFilter;\nvar _c;\n$RefreshReg$(_c, \"GroupFilter\");","map":{"version":3,"names":["Select","Input","GROUP_FILTER_DATA","OPERATION_LIST","useState","Button","jsxDEV","_jsxDEV","GroupFilter","initialData","_s","dataSource","setDataSource","dataItemRender","item","index","_GROUP_FILTER_DATA$fi","findItemBelongList","find","dataItem","value","field","belongList","console","log","style","display","gap","marginBottom","children","options","width","onChange","prev","slice","fileName","_jsxFileName","lineNumber","columnNumber","operation","undefined","e","target","type","marginLeft","onClick","map","_c","$RefreshReg$"],"sources":["D:/code/校招测试demo/src/GroupFilter/index.js"],"sourcesContent":["/* 使用 React + Ant Design 实现一个组合筛选的组件\r\n 点击新增筛选条件可以增加一个筛选项，点击右侧删除按钮支持删掉该筛选项\r\n GROUP_FILTER_DATA: 左侧下拉框的值\r\n OPERATION_LIST: 中间下拉框的值\r\n 如果中间下拉框的值为等于，则右侧是一个输入框，如果中间下拉框的值为属于，则右侧是一个下拉框，下拉框数据是左侧选择的变量的belongList的值\r\n 组件默认展示形式，见组件默认值.png\r\n 组件示例图，见组件示例图.png\r\n 组件数据图，见组件数据图.png\r\n*/\r\n\r\nimport { Select, Input } from 'antd';\r\nimport {GROUP_FILTER_DATA, OPERATION_LIST} from '../data';\r\nimport { useState } from 'react';\r\nimport { Button } from 'antd';\r\n\r\nconst GroupFilter = (initialData = []) => {\r\n    const [dataSource, setDataSource] = useState(initialData);\r\n\r\n    const dataItemRender = (item, index) => {\r\n        const findItemBelongList = GROUP_FILTER_DATA.find(dataItem => dataItem.value === item.field)?.belongList;\r\n        console.log(GROUP_FILTER_DATA.find(dataItem => dataItem.value === item.field),'GROUP_FILTER_DATA.find(item => item.value === item.field)')\r\n        return (\r\n            <div style={{ display: 'flex', gap: 10, marginBottom: 10 }}>\r\n                <Select\r\n                    options={GROUP_FILTER_DATA} \r\n                    style={{ width: 200 }} \r\n                    value={item.field}\r\n                    onChange={(value) => {\r\n                        setDataSource(prev => [\r\n                            ...prev.slice(0, index), \r\n                            { ...item, field: value }, \r\n                            ...prev.slice(index + 1)]\r\n                        );\r\n                    }}\r\n                />\r\n                <Select \r\n                    options={OPERATION_LIST} \r\n                    style={{ width: 200 }} \r\n                    value={item.operation}\r\n                    onChange={(value) => {\r\n                        setDataSource(prev => [\r\n                            ...prev.slice(0, index), \r\n                            { ...item, operation: value, value: undefined }, \r\n                            ...prev.slice(index + 1)]\r\n                        );\r\n                    }}\r\n                />\r\n                {item.operation === 'equal' ? (\r\n                    <Input \r\n                        style={{ width: 200 }} \r\n                        value={item.value}\r\n                        onChange={(e) => {\r\n                            setDataSource(prev => [\r\n                                ...prev.slice(0, index), \r\n                                { ...item, value: e.target.value }, \r\n                                ...prev.slice(index + 1)]\r\n                            );\r\n                        }}\r\n                    />\r\n                ) : (\r\n                    <Select \r\n                        options={findItemBelongList} \r\n                        style={{ width: 200 }} \r\n                        value={item.value} \r\n                        onChange={(value) => {\r\n                            setDataSource(prev => [\r\n                                ...prev.slice(0, index), \r\n                                { ...item, value }, \r\n                                ...prev.slice(index + 1)]\r\n                            );\r\n                        }} \r\n                    />\r\n                )}\r\n                <Button \r\n                    type=\"primary\"\r\n                    style={{ marginLeft: 10 }}\r\n                    onClick={() => setDataSource(prev => [...prev.slice(0, index), ...prev.slice(index + 1)])}>\r\n                    删除\r\n                </Button>\r\n            </div>\r\n        )\r\n    }\r\n    console.log(dataSource);\r\n    return (\r\n        <div>\r\n            {dataSource?.map((item, index) => dataItemRender(item, index))}\r\n            <Button type=\"primary\" onClick={() => setDataSource(prev => [...prev, { field: undefined, operation: undefined, value: undefined }])}>新增</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GroupFilter;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}