{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\\\u6821\\u62DB\\u6D4B\\u8BD5demo\\\\src\\\\GroupFilter\\\\index.js\",\n  _s = $RefreshSig$();\n/* 使用 React + Ant Design 实现一个组合筛选的组件\r\n 点击新增筛选条件可以增加一个筛选项，点击右侧删除按钮支持删掉该筛选项\r\n GROUP_FILTER_DATA: 左侧下拉框的值\r\n OPERATION_LIST: 中间下拉框的值\r\n 如果中间下拉框的值为等于，则右侧是一个输入框，如果中间下拉框的值为属于，则右侧是一个下拉框，下拉框数据是左侧选择的变量的belongList的值\r\n 最终输出的结构是一个数组\r\n [\r\n    {\r\n        field: 'requestId',\r\n        operation: 'equal',\r\n        value: 'requestId1',\r\n    },\r\n    {\r\n        field: 'url',\r\n        operation: 'belong',\r\n        value: 'url1',\r\n    },\r\n ]\r\n*/\nimport { Select, Input } from 'antd';\nimport { GROUP_FILTER_DATA, OPERATION_LIST } from './data';\nimport { useState } from 'react';\nimport { Button } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GroupFilter = () => {\n  _s();\n  const [dataSource, setDataSource] = useState([]);\n  const dataItemRender = (item, index) => {\n    var _GROUP_FILTER_DATA$fi;\n    const findItemBelongList = (_GROUP_FILTER_DATA$fi = GROUP_FILTER_DATA.find(item => item.value === item.field)) === null || _GROUP_FILTER_DATA$fi === void 0 ? void 0 : _GROUP_FILTER_DATA$fi.belongList;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        options: GROUP_FILTER_DATA,\n        style: {\n          width: 200\n        },\n        value: item.field,\n        onChange: value => {\n          setDataSource(prev => [...prev.slice(0, index), {\n            field: value,\n            operation: undefined,\n            value: undefined\n          }, ...prev.slice(index + 1)]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        options: OPERATION_LIST,\n        style: {\n          width: 200\n        },\n        value: item.operation,\n        onChange: value => {\n          setDataSource(prev => [...prev.slice(0, index), {\n            ...item,\n            operation: value,\n            value: undefined\n          }, ...prev.slice(index + 1)]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), item.operation === 'equal' ? /*#__PURE__*/_jsxDEV(Input, {\n        style: {\n          width: 200\n        },\n        value: item.value,\n        onChange: e => {\n          setDataSource(prev => [...prev.slice(0, index), {\n            ...item,\n            value: e.target.value\n          }, ...prev.slice(index + 1)]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Select, {\n        options: findItemBelongList,\n        style: {\n          width: 200\n        },\n        value: item.value,\n        onChange: value => {\n          setDataSource(prev => [...prev.slice(0, index), {\n            ...item,\n            value\n          }, ...prev.slice(index + 1)]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: () => setDataSource(prev => [...prev.slice(0, index), ...prev.slice(index + 1)]),\n        children: \"\\u5220\\u9664\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this);\n  };\n  console.log(dataSource);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [dataSource === null || dataSource === void 0 ? void 0 : dataSource.map((item, index) => dataItemRender(item, index)), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: () => setDataSource(prev => [...prev, {\n        field: undefined,\n        operation: undefined,\n        value: undefined\n      }]),\n      children: \"\\u65B0\\u589E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n};\n_s(GroupFilter, \"bNMVvED3fap4bh/ccB/K4jezwdw=\");\n_c = GroupFilter;\nexport default GroupFilter;\nvar _c;\n$RefreshReg$(_c, \"GroupFilter\");","map":{"version":3,"names":["Select","Input","GROUP_FILTER_DATA","OPERATION_LIST","useState","Button","jsxDEV","_jsxDEV","GroupFilter","_s","dataSource","setDataSource","dataItemRender","item","index","_GROUP_FILTER_DATA$fi","findItemBelongList","find","value","field","belongList","children","options","style","width","onChange","prev","slice","operation","undefined","fileName","_jsxFileName","lineNumber","columnNumber","e","target","type","onClick","console","log","map","_c","$RefreshReg$"],"sources":["D:/code/校招测试demo/src/GroupFilter/index.js"],"sourcesContent":["/* 使用 React + Ant Design 实现一个组合筛选的组件\r\n 点击新增筛选条件可以增加一个筛选项，点击右侧删除按钮支持删掉该筛选项\r\n GROUP_FILTER_DATA: 左侧下拉框的值\r\n OPERATION_LIST: 中间下拉框的值\r\n 如果中间下拉框的值为等于，则右侧是一个输入框，如果中间下拉框的值为属于，则右侧是一个下拉框，下拉框数据是左侧选择的变量的belongList的值\r\n 最终输出的结构是一个数组\r\n [\r\n    {\r\n        field: 'requestId',\r\n        operation: 'equal',\r\n        value: 'requestId1',\r\n    },\r\n    {\r\n        field: 'url',\r\n        operation: 'belong',\r\n        value: 'url1',\r\n    },\r\n ]\r\n*/\r\nimport { Select, Input } from 'antd';\r\nimport {GROUP_FILTER_DATA, OPERATION_LIST} from './data';\r\nimport { useState } from 'react';\r\nimport { Button } from 'antd';\r\n\r\nconst GroupFilter = () => {\r\n    const [dataSource, setDataSource] = useState([]);\r\n\r\n    const dataItemRender = (item, index) => {\r\n        const findItemBelongList = GROUP_FILTER_DATA.find(item => item.value === item.field)?.belongList;\r\n        return (\r\n            <div>\r\n                <Select\r\n                    options={GROUP_FILTER_DATA} \r\n                    style={{ width: 200 }} \r\n                    value={item.field}\r\n                    onChange={(value) => {\r\n                        setDataSource(prev => [\r\n                            ...prev.slice(0, index), \r\n                            { field: value, operation: undefined, value: undefined }, \r\n                            ...prev.slice(index + 1)]\r\n                        );\r\n                    }}\r\n                />\r\n                <Select \r\n                    options={OPERATION_LIST} \r\n                    style={{ width: 200 }} \r\n                    value={item.operation}\r\n                    onChange={(value) => {\r\n                        setDataSource(prev => [\r\n                            ...prev.slice(0, index), \r\n                            { ...item, operation: value, value: undefined }, \r\n                            ...prev.slice(index + 1)]\r\n                        );\r\n                    }}\r\n                />\r\n                {item.operation === 'equal' ? (\r\n                    <Input \r\n                        style={{ width: 200 }} \r\n                        value={item.value}\r\n                        onChange={(e) => {\r\n                            setDataSource(prev => [\r\n                                ...prev.slice(0, index), \r\n                                { ...item, value: e.target.value }, \r\n                                ...prev.slice(index + 1)]\r\n                            );\r\n                        }}\r\n                    />\r\n                ) : (\r\n                    <Select \r\n                        options={findItemBelongList} \r\n                        style={{ width: 200 }} \r\n                        value={item.value} \r\n                        onChange={(value) => {\r\n                            setDataSource(prev => [\r\n                                ...prev.slice(0, index), \r\n                                { ...item, value }, \r\n                                ...prev.slice(index + 1)]\r\n                            );\r\n                        }} \r\n                    />\r\n                )}\r\n                <Button \r\n                    type=\"primary\" \r\n                    onClick={() => setDataSource(prev => [...prev.slice(0, index), ...prev.slice(index + 1)])}>\r\n                    删除\r\n                </Button>\r\n            </div>\r\n        )\r\n    }\r\n    console.log(dataSource);\r\n    return (\r\n        <div>\r\n            {dataSource?.map((item, index) => dataItemRender(item, index))}\r\n            <Button type=\"primary\" onClick={() => setDataSource(prev => [...prev, { field: undefined, operation: undefined, value: undefined }])}>新增</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GroupFilter;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}