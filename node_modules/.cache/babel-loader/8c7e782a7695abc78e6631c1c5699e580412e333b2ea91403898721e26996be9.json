{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\\\u6821\\u62DB\\u6D4B\\u8BD5demo\\\\src\\\\GroupFilter\\\\index.js\",\n  _s = $RefreshSig$();\n/* 使用 React + Ant Design 实现一个组合筛选的组件\r\n 点击新增筛选条件可以增加一个筛选项，点击右侧删除按钮支持删掉该筛选项\r\n GROUP_FILTER_DATA: 左侧下拉框的值\r\n OPERATION_LIST: 中间下拉框的值\r\n 如果中间下拉框的值为等于，则右侧是一个输入框，如果中间下拉框的值为属于，则右侧是一个下拉框，下拉框数据是左侧选择的变量的belongList的值\r\n 最终输出的结构是一个数组\r\n [\r\n    {\r\n        field: 'requestId',\r\n        operation: 'equal',\r\n        value: 'requestId1',\r\n    },\r\n    {\r\n        field: 'url',\r\n        operation: 'belong',\r\n        value: 'url1',\r\n    },\r\n ]\r\n*/\nimport { Select, Input } from 'antd';\nimport { GROUP_FILTER_DATA, OPERATION_LIST } from './data';\nimport { useState } from 'react';\nimport { Button } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GroupFilter = () => {\n  _s();\n  const [dataSource, setDataSource] = useState([{\n    field: undefined,\n    operation: undefined,\n    value: undefined\n  }]);\n  const dataItemRender = (item, index) => {\n    var _GROUP_FILTER_DATA$fi;\n    const findItemBelongList = (_GROUP_FILTER_DATA$fi = GROUP_FILTER_DATA.find(item => item.value === item.field)) === null || _GROUP_FILTER_DATA$fi === void 0 ? void 0 : _GROUP_FILTER_DATA$fi.belongList;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        options: GROUP_FILTER_DATA,\n        style: {\n          width: 200\n        },\n        value: item.field,\n        onChange: value => {\n          setDataSource(prev => [...prev.slice(0, index), {\n            ...item,\n            field: value\n          }, ...prev.slice(index + 1)]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        options: OPERATION_LIST,\n        style: {\n          width: 200\n        },\n        value: item.operation,\n        onChange: value => {\n          setDataSource(prev => [...prev.slice(0, index), {\n            ...item,\n            operation: value,\n            value: undefined\n          }, ...prev.slice(index + 1)]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), item.operation === 'equal' ? /*#__PURE__*/_jsxDEV(Input, {\n        style: {\n          width: 200\n        },\n        value: item.value,\n        onChange: e => {\n          setDataSource(prev => [...prev.slice(0, index), {\n            ...item,\n            value: e.target.value\n          }, ...prev.slice(index + 1)]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Select, {\n        options: findItemBelongList,\n        style: {\n          width: 200\n        },\n        value: item.value,\n        onChange: value => {\n          setDataSource(prev => [...prev.slice(0, index), {\n            ...item,\n            value\n          }, ...prev.slice(index + 1)]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: () => setDataSource(prev => [...prev.slice(0, index), ...prev.slice(index + 1)]),\n        children: \"\\u5220\\u9664\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this);\n  };\n  console.log(dataSource);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [dataSource === null || dataSource === void 0 ? void 0 : dataSource.map((item, index) => dataItemRender(item, index)), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: () => setDataSource(prev => [...prev, {\n        field: undefined,\n        operation: undefined,\n        value: undefined\n      }]),\n      children: \"\\u65B0\\u589E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n};\n_s(GroupFilter, \"XvEYkgb7nekq3id3SocnMCfGgoM=\");\n_c = GroupFilter;\nexport default GroupFilter;\nvar _c;\n$RefreshReg$(_c, \"GroupFilter\");","map":{"version":3,"names":["Select","Input","GROUP_FILTER_DATA","OPERATION_LIST","useState","Button","jsxDEV","_jsxDEV","GroupFilter","_s","dataSource","setDataSource","field","undefined","operation","value","dataItemRender","item","index","_GROUP_FILTER_DATA$fi","findItemBelongList","find","belongList","children","options","style","width","onChange","prev","slice","fileName","_jsxFileName","lineNumber","columnNumber","e","target","type","onClick","console","log","map","_c","$RefreshReg$"],"sources":["D:/code/校招测试demo/src/GroupFilter/index.js"],"sourcesContent":["/* 使用 React + Ant Design 实现一个组合筛选的组件\r\n 点击新增筛选条件可以增加一个筛选项，点击右侧删除按钮支持删掉该筛选项\r\n GROUP_FILTER_DATA: 左侧下拉框的值\r\n OPERATION_LIST: 中间下拉框的值\r\n 如果中间下拉框的值为等于，则右侧是一个输入框，如果中间下拉框的值为属于，则右侧是一个下拉框，下拉框数据是左侧选择的变量的belongList的值\r\n 最终输出的结构是一个数组\r\n [\r\n    {\r\n        field: 'requestId',\r\n        operation: 'equal',\r\n        value: 'requestId1',\r\n    },\r\n    {\r\n        field: 'url',\r\n        operation: 'belong',\r\n        value: 'url1',\r\n    },\r\n ]\r\n*/\r\nimport { Select, Input } from 'antd';\r\nimport {GROUP_FILTER_DATA, OPERATION_LIST} from './data';\r\nimport { useState } from 'react';\r\nimport { Button } from 'antd';\r\n\r\nconst GroupFilter = () => {\r\n    const [dataSource, setDataSource] = useState([\r\n        {\r\n            field: undefined,\r\n            operation: undefined,\r\n            value: undefined,\r\n        }\r\n    ]);\r\n\r\n    const dataItemRender = (item, index) => {\r\n        const findItemBelongList = GROUP_FILTER_DATA.find(item => item.value === item.field)?.belongList;\r\n        return (\r\n            <div>\r\n                <Select\r\n                    options={GROUP_FILTER_DATA} \r\n                    style={{ width: 200 }} \r\n                    value={item.field}\r\n                    onChange={(value) => {\r\n                        setDataSource(prev => [\r\n                            ...prev.slice(0, index), \r\n                            { ...item, field: value }, \r\n                            ...prev.slice(index + 1)]\r\n                        );\r\n                    }}\r\n                />\r\n                <Select \r\n                    options={OPERATION_LIST} \r\n                    style={{ width: 200 }} \r\n                    value={item.operation}\r\n                    onChange={(value) => {\r\n                        setDataSource(prev => [\r\n                            ...prev.slice(0, index), \r\n                            { ...item, operation: value, value: undefined }, \r\n                            ...prev.slice(index + 1)]\r\n                        );\r\n                    }}\r\n                />\r\n                {item.operation === 'equal' ? (\r\n                    <Input \r\n                        style={{ width: 200 }} \r\n                        value={item.value}\r\n                        onChange={(e) => {\r\n                            setDataSource(prev => [\r\n                                ...prev.slice(0, index), \r\n                                { ...item, value: e.target.value }, \r\n                                ...prev.slice(index + 1)]\r\n                            );\r\n                        }}\r\n                    />\r\n                ) : (\r\n                    <Select \r\n                        options={findItemBelongList} \r\n                        style={{ width: 200 }} \r\n                        value={item.value} \r\n                        onChange={(value) => {\r\n                            setDataSource(prev => [\r\n                                ...prev.slice(0, index), \r\n                                { ...item, value }, \r\n                                ...prev.slice(index + 1)]\r\n                            );\r\n                        }} \r\n                    />\r\n                )}\r\n                <Button \r\n                    type=\"primary\" \r\n                    onClick={() => setDataSource(prev => [...prev.slice(0, index), ...prev.slice(index + 1)])}>\r\n                    删除\r\n                </Button>\r\n            </div>\r\n        )\r\n    }\r\n    console.log(dataSource);\r\n    return (\r\n        <div>\r\n            {dataSource?.map((item, index) => dataItemRender(item, index))}\r\n            <Button type=\"primary\" onClick={() => setDataSource(prev => [...prev, { field: undefined, operation: undefined, value: undefined }])}>新增</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GroupFilter;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}